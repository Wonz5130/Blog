---
title: 求候选键 / 候选码
tag: [解题套路]
category: 数据库
---

>求候选键 / 候选码要先会**求闭包**，如果不会可以参考我的[这篇文章](https://wonz5130.github.io/2018/08/14/31-%E6%B1%82%E9%97%AD%E5%8C%85/)。

<!--more-->

下面给出一个方法，我称它为 “LRN 法”。

对于给定的关系 R（A1，A2，…, An）和函数依赖集 F，可将其属性分为四类：

L 类：**仅出现**在 F 的函数依赖**左部**的属性；

R 类：**仅出现**在 F 的函数依赖**右部**的属性；

N 类：在 F 的函数依赖**左右两边均未出现**的属性；

LR 类：在 F 的函数依赖**左右两边均出现**的属性。

这里还有几个定理，非常有用 (我一般用定理 1/2/3 和推论 1)。

定理 1：对于给定的关系模式 R 及其函数依赖集 F，若 X（X 属于 R）是 **L 类**属性，则 X 必为 R 的**任一候选关键字的成员**。

推论 1：对于给定的关系模式 R 及其函数依赖集 F，若 X（X 属于 R）是 **L 类**属性，且 **X+ 包含了 R 的全部属**性，则 X 必为 R 的**唯一候选关键字**。

定理 2：对于给定的关系模式 R 及其函数依赖集 F，若 X（X 属于 R）是 **R 类**属性，则 X **不在任何候选关键字**中。

定理 3：对于给定的关系模式 R 及其函数依赖集 F，若 X（X 属于 R）是 **N 类**属性，则 X 必为 R 的**任一候选关键字的成员**。

推论 2：对于给定的关系模式 R 及其函数依赖集 F，若 X（X 属于 R）是 **N 类和 L 类**组成的属性集，且 **X+ 包含了 R 的全部属性**，则 X 必为 R 的**唯一候选关键字**。

**例：**关系模式 R（U，F），其中 U={A，B，C}，F={AB→C，C→A}，试求此关系的候选键。

**解：**

第一步：用 “LRN 法” 求出 L、R、N、LR 各有哪些元素。一般都是先写 N、LR，再写 L、R。防止冲突。

L：B

R：none

N：none

LR：A，C

第二步：

先求 B 的闭包 (B)+ 。发现就是 {B}。所以 B 不符合，于是要和 LR 里的元素组合。

再求 (AB)+=ABC=U，所以 AB 是候选键。

再求 (BC)+=ABC=U，所有 BC 也是候选键。

于是：候选键为 AB,BC。

这里总结一下**解题套路**：

**第一步：**用 “**LRN 法**” 求出 L、R、N、LR 各有哪些元素。

**第二步：**根据**三个定理、两个推论**，一般都是先求 L 中元素的闭包。如果是 U，则符合推论 1，候选码唯一。如果不是 U，这时就要并上 LR 中的元素，继续求闭包，一般都是**两两组合**。然后如果其中有一组闭包是 U，其他一组不是 U，那就不用再三个组合了，因为这样会产生冗余，除非三个一组里面不包含前面求到的闭包是 U 的两个元素。



<u>本文于 2018 年 5 月 26 日首发于 [CSDN](https://blog.csdn.net/Wonz5130/article/details/80464679)。</u>